<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
  <link rel="shortcut icon" th:href="@{/img/icon.png}" type="image/x-icon">
  <title>Safety Work</title>
</head>
<body data-bs-theme="dark">
<header>
  <div class="row">
    <img th:src="@{/img/liderlogo.png}" alt="logo">
  </div>
</header>
<main>
  <div class="row">
    <div class="col-lg-3 col-sm-6 col-xs-9  mh-100 ">
      <menu class="me-5">
        <div>
          <a th:href="@{/}" type="button" class="btn btn-warning col-12">Головна</a>
        </div>
        <div class="accordion accordion-flush mb-3" id="accordionFlushExample">

          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      data-bs-target="#flush-collapseTwo" aria-expanded="false"
                      aria-controls="flush-collapseTwo">
                <img th:src="@{/img/employee_64.png}" alt="employee" class="me-3"> Персонал
              </button>
            </h2>
            <div id="flush-collapseTwo" class="accordion-collapse collapse"
                 data-bs-parent="#accordionFlushExample">
              <div class="accordion-body"><a th:href="@{/leaders}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/leader_bw_32.png}" alt="leader" >Керівники</a></div>
              <div class="accordion-body"><a th:href="@{/workers}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/worker_bw_32.png}" alt="worker"> Робітники</a></div>
              <div class="accordion-body"><a th:href="@{/addemployee}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/addemployee_bw_32.png}" alt="addEmployee"> Додати працівника</a></div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      data-bs-target="#flush-collapseThree" aria-expanded="false"
                      aria-controls="flush-collapseThree">
                <img th:src="@{/img/equipment_64.png}" alt="equipment" class="me-3"> Обладнання
              </button>
            </h2>
            <div id="flush-collapseThree" class="accordion-collapse collapse"
                 data-bs-parent="#accordionFlushExample">
              <div class="accordion-body"><a th:href="@{/technique}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/technique_bw_32.png}" alt="technique"> Техніка</a></div>
              <div class="accordion-body"><a th:href="@{/equipment}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/equipment_bw_32.png}" alt="equipment"> Обладнання</a></div>
              <div class="accordion-body"><a th:href="@{/tools}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/tools_bw_32.png}" alt="tools"> Інструмент</a></div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      data-bs-target="#flush-collapseFourth" aria-expanded="false"
                      aria-controls="flush-collapseThree">
                <img th:src="@{/img/work_64.png}" alt="work" class="me-3"> Роботи
              </button>
            </h2>
            <div id="flush-collapseFourth" class="accordion-collapse collapse"
                 data-bs-parent="#accordionFlushExample">
              <div class="accordion-body"><a th:href="@{/work}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/work_bw_32.png}" alt="work"> Роботи</a></div>
              <div class="accordion-body"><a th:href="@{/workpermit}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/workpermit_bw_32.png}" alt="workpermit"> Наряд-допуски</a></div>
              <div class="accordion-body"><a th:href="@{/highrisk}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/highrisk_bw_32.png}" alt="highrisk"> Перелік робіт підвищенної небезпеки</a></div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      data-bs-target="#flush-collapseFifth" aria-expanded="false"
                      aria-controls="flush-collapseThree">
                <img th:src="@{/img/icon_64.png}" alt="safety" class="me-3"> Охорона праці
              </button>
            </h2>
            <div id="flush-collapseFifth" class="accordion-collapse collapse"
                 data-bs-parent="#accordionFlushExample">
              <div class="accordion-body"><a th:href="@{/instruction}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/instruction_bw_32.png}" alt="instruction"> Інструктажі</a></div>
              <div class="accordion-body"><a th:href="@{/education}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/education_bw_32.png}" alt="education"> Навчання</a></div>
              <div class="accordion-body"><a th:href="@{/medicine}" type="button"
                                             class="btn btn-warning col-12"><img th:src="@{/img/medicine_bw_32.png}" alt="medicine"> Медогляд</a></div>
            </div>
          </div>
        </div>
        <div sec:authorize="hasRole('ROLE_ADMIN')">
          <a th:href="@{/register}" type="button" class="btn btn-warning col-12 mb-5">Реєстрація
            користувачів</a>
        </div>
        <div>
          <div class="mt-5">
            <p>Вітаю: <span th:text="${#authentication.name}"></span></p>
          </div>
          <form method="post" th:action="@{/login}">
            <input th:name="${_csrf.parameterName}" type="hidden" th:value="${_csrf.token}">
            <button type="submit" class="btn btn-outline-success col-12 mb-3">Login</button>
          </form>
          <form method="post" th:action="@{/logout}">
            <input th:name="${_csrf.parameterName}" type="hidden" th:value="${_csrf.token}">
            <button type="submit" class="btn btn-outline-danger col-12 mb-3">Logout</button>
          </form>
        </div>
      </menu>
    </div>
    <div class="col-lg-9 col-sm-6 col-xs-12">
      <div class="row m-4">
        <div class="col-lg-10 col-sm-12 bg-info-subtle float-start mb-4 me-4 p-4 rounded-3">
          <h1>Роботи підвищеної небезпеки</h1>
          <form method="post" sec:authorize="hasRole('ROLE_ADMIN')">
            <fieldset>
              <legend>Додати вид робіт</legend>
              <label>
                Порядковий номер відповідно переліку <input name="id" type="number" min="1" max="137" required>
              </label><br>
              <label>
                Назва виду робіт <textarea name="name" rows="4" cols="50" required></textarea>
              </label><br>
              <label class="p-2 fs-5">НПАОП
                <select name="npaop" required>
                  <option class="form-control" th:each="npaop: ${npaopList}" th:label="${npaop.name}"
                          th:value="${npaop.id}"></option>
                </select>
              </label><span sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-outline-warning btn-sm" th:href="@{'/npaop'}">+</a></span><br>
            </fieldset>
            <input th:name="${_csrf.parameterName}" type="hidden" th:value="${_csrf.token}">
            <input type="submit">
          </form>
        </div>
      </div>
      <div class="row m-4">
        <div class="col-lg-12 col-sm-12 bg-info-subtle float-start mb-4 me-4 p-4 rounded-3">
          <table class="table table-sm table-dark table-striped" id="example" style="width:100%">
            <thead>
            <tr>
              <th>Порядковий номер відповідно переліку</th>
              <th>Назва виду робіт</th>
              <th>НПАОП</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="highRisk: ${highRiskList}">
              <td th:text="${highRisk.id}"></td>
              <td th:text="${highRisk.name}"></td>
              <td><a th:href="${highRisk.getNpaop().link}" target="_blank"><span th:text="${highRisk.getNpaop().id}"></span></a></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>
</main>
<hr/>
<footer class="row m-4">
  <div class="col-3">
    <img th:src="@{/img/liderlogo_sm.png}" alt="logo">
    <div>&copy; Copyright 2016 ЗНА "Лідер Електрик"</div>
  </div>
  <div class="col-6 align-self-center fs-4 fw-semibold text-center">
    Низьковольтне і високовольтне обладнання</br>
    Комплексні системи енергозабезпечення
  </div>
  <div class="col-3">
    <div class="text-warning">Контакти</div>
    м.Запоріжжя</br>
    вул. Новобудов, 3</br>
    тел.: +38-050-362-52-56</br>
    e-mail: office@lider.com.ua
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script>
  new DataTable('#example', {scrollX: true});
</script>
</body>
</html>